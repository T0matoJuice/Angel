# ğŸ“ ä¸»é¡µæ”¹é€  - ä¿®æ”¹æ‘˜è¦

## ğŸ¯ æ ¸å¿ƒä¿®æ”¹ï¼ˆ4ä¸ªæ–‡ä»¶ï¼‰

### 1. æ–°å¢æ–‡ä»¶
```
âœ… modules/common/dashboard_api.py  ï¼ˆæ–°å¢ï¼Œæä¾›3ä¸ªAPIæ¥å£ï¼‰
```

### 2. ä¿®æ”¹æ–‡ä»¶

#### `app.py`
```python
# ç¬¬34è¡Œé™„è¿‘ï¼Œæ·»åŠ å¯¼å…¥ï¼š
from modules.common.dashboard_api import dashboard_api_bp

# ç¬¬64è¡Œé™„è¿‘ï¼Œæ·»åŠ æ³¨å†Œï¼š
app.register_blueprint(dashboard_api_bp)
```

#### `modules/common/routes.py`
```python
# æ·»åŠ å¯¼å…¥ï¼š
from flask_login import login_required

# ä¿®æ”¹ / è·¯ç”±ï¼š
@common_bp.route('/')
@login_required  # â† æ–°å¢ï¼šè¦æ±‚ç™»å½•
def index():
    return render_template('mainPage.html')  # æ”¹ä¸ºmainPage.html

# æ·»åŠ  /old è·¯ç”±ï¼š
@common_bp.route('/old')
@login_required  # â† æ–°å¢ï¼šè¦æ±‚ç™»å½•
def old_index():
    return render_template('index.html')  # æ—§ä¸»é¡µå¤‡ä»½
```

#### `templates/mainPage.html`
```
å®Œå…¨é‡å†™ï¼Œä»é™æ€æ•°æ®æ”¹ä¸ºåŠ¨æ€APIè°ƒç”¨
```

### 3. é…ç½®æ–‡ä»¶ï¼ˆæœåŠ¡å™¨éœ€è¦è°ƒæ•´ï¼‰

#### `.env`
```env
# æœ¬åœ°é…ç½®
DB_HOST=localhost
DB_PASSWORD=123456

# æœåŠ¡å™¨é…ç½®ï¼ˆéœ€è¦æ”¹å›ï¼‰
DB_HOST=10.2.32.162
DB_PASSWORD=Angel#20251204
```

---

## ğŸš€ æœåŠ¡å™¨éƒ¨ç½²æ­¥éª¤

### 1. ä¸Šä¼ æ–‡ä»¶
- `modules/common/dashboard_api.py` ï¼ˆæ–°æ–‡ä»¶ï¼‰
- `app.py` ï¼ˆä¿®æ”¹ï¼‰
- `modules/common/routes.py` ï¼ˆä¿®æ”¹ï¼‰
- `templates/mainPage.html` ï¼ˆä¿®æ”¹ï¼‰

### 2. æ£€æŸ¥.env
ç¡®ä¿æ•°æ®åº“é…ç½®æ­£ç¡®ï¼ˆæœåŠ¡å™¨åœ°å€å’Œå¯†ç ï¼‰

### 3. é‡å¯åº”ç”¨
```bash
sudo systemctl restart llm-detection
# æˆ–
pkill -f "python.*app.py" && python app.py
```

### 4. éªŒè¯
è®¿é—® `http://æœåŠ¡å™¨IP:5000/` åº”è¯¥çœ‹åˆ°æ–°ä¸»é¡µ

---

## ğŸ“Š åŠŸèƒ½å˜åŒ–

| è·¯ç”± | ä¹‹å‰ | ç°åœ¨ |
|------|------|------|
| `/` | index.htmlï¼ˆé™æ€ï¼‰ | mainPage.htmlï¼ˆåŠ¨æ€ï¼‰ |
| `/old` | ä¸å­˜åœ¨ | index.htmlï¼ˆå¤‡ä»½ï¼‰ |
| `/main` | mainPage.html | å·²åˆ é™¤ |

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®åº“é…ç½®**: æœåŠ¡å™¨çš„.envè¦ç”¨æœåŠ¡å™¨çš„æ•°æ®åº“åœ°å€å’Œå¯†ç 
2. **å¤‡ä»½**: éƒ¨ç½²å‰å…ˆå¤‡ä»½åŸæ–‡ä»¶
3. **éªŒè¯**: éƒ¨ç½²åæ£€æŸ¥ç»Ÿè®¡æ•°æ®æ˜¯å¦æ­£ç¡®æ˜¾ç¤º

---

**è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ï¼šæœåŠ¡å™¨éƒ¨ç½²æŒ‡å—.md**
